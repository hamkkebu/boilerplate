# 개발 환경 설정 (Development Profile)
# 활성화: --spring.profiles.active=dev 또는 SPRING_PROFILES_ACTIVE=dev

# 서버 정보 (OpenAPI Swagger 문서용)
server:
  url: http://localhost:8080
  description: Local Development Server

  # HTTP 포트 (SSL 활성화 시 HTTP to HTTPS 리다이렉트용)
  http:
    port: 8080

  # SSL/TLS 설정 (HTTPS 활성화)
  # 사용하려면 아래 주석을 해제하고 keystore.p12 파일을 생성하세요
  # 생성 방법: SSL_TLS_SETUP.md 참고
#  port: 8443  # HTTPS 포트
#  ssl:
#    enabled: true
#    key-store: classpath:keystore/keystore.p12
#    key-store-password: changeit
#    key-store-type: PKCS12
#    key-alias: hamkkebu
#    enabled-protocols: TLSv1.3,TLSv1.2
#    # 강력한 암호화 스위트만 허용
#    ciphers: >
#      TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,
#      TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,
#      TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256

spring:
  # H2 Console 개발 환경에서만 활성화
  h2:
    console:
      enabled: true
      path: /h2-console

  jpa:
    show-sql: true  # SQL 로그 출력
    properties:
      hibernate:
        format_sql: true  # SQL 포맷팅
        use_sql_comments: true  # SQL 주석 추가
  sql:
    init:
      mode: always  # 시작 시 SQL 스크립트 실행 (schema.sql, data.sql)

# Actuator 개발 환경 설정
management:
  endpoints:
    web:
      exposure:
        include: health,info,env,metrics  # 개발 환경에서는 추가 정보 노출
      base-path: /actuator
  endpoint:
    health:
      show-details: always  # health 상세 정보 표시

logging:
  level:
    com.hamkkebu.boilerplate: DEBUG  # 애플리케이션 로그: DEBUG 레벨
    org.springframework.web: DEBUG  # Spring Web 로그: DEBUG 레벨
    org.springframework.security: DEBUG  # Spring Security 로그: DEBUG 레벨
    org.hibernate.SQL: DEBUG  # Hibernate SQL 로그
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE  # SQL 파라미터 바인딩 로그
    org.apache.kafka: INFO  # Kafka 로그: INFO 레벨
    org.springframework.kafka: DEBUG  # Spring Kafka 로그: DEBUG 레벨

# Swagger UI 개발 환경 설정
springdoc:
  swagger-ui:
    enabled: true  # Swagger UI 활성화
    tryItOutEnabled: true  # Try it out 버튼 기본 활성화

# CORS 개발 환경 설정
# SECURITY: 와일드카드 대신 특정 포트만 허용
cors:
  allowed-origins:
    - "http://localhost:3000"
    - "http://localhost:3001"
    - "http://localhost:8080"
    - "http://127.0.0.1:3000"
    - "http://127.0.0.1:3001"
    - "http://127.0.0.1:8080"

# Security 개발 환경 설정
security:
  rate-limiting:
    # 개발 환경: 프록시 없음
    trust-proxy: false
